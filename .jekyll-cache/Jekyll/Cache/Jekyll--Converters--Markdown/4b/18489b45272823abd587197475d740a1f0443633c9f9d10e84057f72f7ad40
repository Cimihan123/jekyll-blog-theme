I"ü	<!-- excerpt-start -->
<p>In this blog, I will explain on how to access network connection on Tryhackme/HTB/etcâ€¦. machines.
<br />
Having internet connection will make a lot easier when we are trying to pwn machines or playing attack/defense<br /> challenges altough 
it could be slow but works. 
<!-- excerpt-end --></p>

<p>Â </p>

<h3 id="setup">Setup</h3>
<p>I am peforming it on my machine which is free to play on TryHackMe.
Link: <a href="https://tryhackme.com/room/enpass">EnPass</a></p>

<p>The machine is up.</p>

<p><img src="/assets/img/blog3-proxy/1.png" alt=" connected &gt;&lt;" /></p>

<p>We have to  install a proxy sever on our machine. I will be going to use <em>Squid Proxy</em>.<br />
I am using arch on wsl2.
<img src="/assets/img/blog3-proxy/2.png" alt=" squid-install &gt;&lt;" /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>For <span class="nb">arch</span>: <span class="nb">sudo </span>pacman <span class="nt">-Sy</span> squid
For ubuntu: <span class="nb">sudo </span>apt <span class="nb">install </span>squid <span class="nt">-y</span>
</code></pre></div></div>
<p>Then enable the squid service and start it.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl <span class="nb">enable </span>squid
<span class="nb">sudo </span>systemctl start squid
or
<span class="nb">sudo </span>service squid start
</code></pre></div></div>
<p>Letâ€™s check locally if it is working or not.</p>

<p><img src="/assets/img/blog3-proxy/3.png" alt=" squid-check &gt;&lt;" />
As you see the connection is made via squid proxy.
On normal, it would have been look like this.
<img src="/assets/img/blog3-proxy/4.png" alt=" squid-check &gt;&lt;" /></p>

<p>So far we are good with the setup. Now letâ€™s first gain root access to the machine .</p>

<h3 id="performing">Performing</h3>

<p>Right now I am on the machine.
<img src="/assets/img/blog3-proxy/5.png" alt=" root-access &gt;&lt;" /></p>

<p>The squid proxy runs on port 3128. We have to first forward our traffic to the remote machine via ssh.</p>

<p>Basically itâ€™s a remote port forwarding where all the traffics/connections are passed from the SSH server to <br />the remote server via SSH client.</p>

<p>In a simple term, we are giving access to the people who canâ€™t where as in local port forward , we access to the resources that we cannot.</p>

<p>Â </p>

<p>Â </p>

<p>Thank you for reading.Â :)</p>

<p>Have a good day/night.</p>
:ET